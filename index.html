<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PrimeHomes - Your Dream Home Awaits</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
                'Ubuntu', 'Cantarell', 'Open Sans', 'Helvetica Neue', sans-serif;
            line-height: 1.6;
            color: #333;
        }

        /* Header Styles */
        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
        }

        .nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 5%;
            max-width: 1200px;
            margin: 0 auto;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: #2563eb;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-link {
            text-decoration: none;
            color: #333;
            font-weight: 500;
            transition: color 0.3s;
        }

        .nav-link:hover {
            color: #2563eb;
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, rgba(37, 99, 235, 0.9), rgba(59, 130, 246, 0.8)),
                        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 600"><rect fill="%23f3f4f6" width="1200" height="600"/><circle fill="%23e5e7eb" cx="200" cy="150" r="80"/><circle fill="%23d1d5db" cx="800" cy="200" r="120"/><circle fill="%23e5e7eb" cx="1000" cy="400" r="90"/><rect fill="%23d1d5db" x="100" y="300" width="200" height="150" rx="10"/><rect fill="%23e5e7eb" x="400" y="250" width="180" height="180" rx="10"/><rect fill="%23d1d5db" x="700" y="350" width="220" height="140" rx="10"/></svg>');
            background-size: cover;
            background-position: center;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: white;
        }

        .hero-content h1 {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            font-weight: 700;
        }

        .hero-content p {
            font-size: 1.25rem;
            margin-bottom: 2rem;
            max-width: 600px;
        }

        .cta-button {
            background: #fff;
            color: #2563eb;
            padding: 1rem 2rem;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            text-decoration: none;
            display: inline-block;
        }

        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .cta-button:hover[style*="background: transparent"] {
            background: rgba(255, 255, 255, 0.1) !important;
        }

        /* Section Styles */
        .section {
            padding: 5rem 5%;
            max-width: 1200px;
            margin: 0 auto;
        }

        .section-title {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: #1f2937;
        }

        .section-subtitle {
            text-align: center;
            color: #6b7280;
            margin-bottom: 3rem;
            font-size: 1.1rem;
        }

        /* Properties Section */
        .properties-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .property-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .property-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        .property-image {
            height: 250px;
            background: linear-gradient(45deg, #e5e7eb, #f3f4f6);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #6b7280;
            font-size: 1rem;
        }

        .property-info {
            padding: 1.5rem;
        }

        .property-price {
            font-size: 1.5rem;
            font-weight: bold;
            color: #2563eb;
            margin-bottom: 0.5rem;
        }

        .property-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .property-location {
            color: #6b7280;
            margin-bottom: 1rem;
        }

        .property-features {
            display: flex;
            gap: 1rem;
            font-size: 0.9rem;
            color: #4b5563;
        }

        /* About Section */
        .about {
            background: #f9fafb;
        }

        .about-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            align-items: center;
        }

        .about-text h3 {
            font-size: 1.75rem;
            margin-bottom: 1rem;
            color: #1f2937;
        }

        .about-text p {
            margin-bottom: 1rem;
            color: #4b5563;
            line-height: 1.7;
        }

        .about-image {
            height: 400px;
            background: linear-gradient(45deg, #e5e7eb, #f3f4f6);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #6b7280;
        }

        /* Services Section */
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .service-card {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s;
        }

        .service-card:hover {
            transform: translateY(-3px);
        }

        .service-icon {
            width: 60px;
            height: 60px;
            background: #2563eb;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            color: white;
            font-size: 1.5rem;
        }

        .service-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        /* Contact Section */
        .contact {
            background: #1f2937;
            color: white;
        }

        .contact-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
        }

        .contact-info h3 {
            font-size: 1.75rem;
            margin-bottom: 1rem;
        }

        .contact-item {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
        }

        .contact-icon {
            width: 40px;
            height: 40px;
            background: #2563eb;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
        }

        .contact-form {
            display: grid;
            gap: 1rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-label {
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .form-input, .form-textarea {
            padding: 0.75rem;
            border: 1px solid #374151;
            border-radius: 6px;
            background: #374151;
            color: white;
            font-size: 1rem;
        }

        .form-input:focus, .form-textarea:focus {
            outline: none;
            border-color: #2563eb;
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .form-input.error, .form-textarea.error {
            border-color: #ef4444;
            background-color: #fef2f2;
        }

        .form-input.error:focus, .form-textarea.error:focus {
            border-color: #ef4444;
            box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);
        }

        .form-input.success, .form-textarea.success {
            border-color: #10b981;
            background-color: #f0fdf4;
        }

        .error-message {
            color: #ef4444;
            font-size: 0.875rem;
            margin-top: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .success-message {
            color: #10b981;
            font-size: 0.875rem;
            margin-top: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .character-count {
            font-size: 0.75rem;
            color: #6b7280;
            margin-top: 0.25rem;
            text-align: right;
        }

        .character-count.warning {
            color: #f59e0b;
        }

        .character-count.error {
            color: #ef4444;
        }

        .form-textarea {
            height: 120px;
            resize: vertical;
        }

        .submit-button {
            background: #2563eb;
            color: white;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s;
        }

        .submit-button:hover {
            background: #1d4ed8;
        }

        /* Footer */
        .footer {
            background: #111827;
            color: white;
            text-align: center;
            padding: 2rem 5%;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .nav-menu {
                display: none;
            }

            .hero-content h1 {
                font-size: 2.5rem;
            }

            .about-content {
                grid-template-columns: 1fr;
            }

            .contact-content {
                grid-template-columns: 1fr;
            }

            .section {
                padding: 3rem 5%;
            }

            .floating-contact {
                bottom: 1rem;
                right: 1rem;
                padding: 0.8rem 1.2rem;
                font-size: 0.9rem;
            }

            .admin-toggle {
                top: 80px;
                right: 1rem;
                padding: 0.4rem 0.8rem;
                font-size: 0.7rem;
            }

            .admin-overlay {
                padding: 1rem;
            }

            .admin-stats {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
                padding: 1rem;
            }

            .submissions-table th,
            .submissions-table td {
                padding: 0.5rem;
                font-size: 0.8rem;
            }
        }

        .stats {
            background: white;
            padding: 3rem 5%;
            text-align: center;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            max-width: 800px;
            margin: 0 auto;
        }

        .stat-item h3 {
            font-size: 2.5rem;
            color: #2563eb;
            margin-bottom: 0.5rem;
        }

        .stat-item p {
            color: #6b7280;
            font-weight: 500;
        }

        /* Floating Contact Button */
        .floating-contact {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: #2563eb;
            color: white;
            border: none;
            border-radius: 50px;
            padding: 1rem 1.5rem;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(37, 99, 235, 0.4);
            z-index: 999;
            transition: all 0.3s ease;
            animation: pulse 2s infinite;
        }

        .floating-contact:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 25px rgba(37, 99, 235, 0.6);
        }

        @keyframes pulse {
            0% { box-shadow: 0 4px 20px rgba(37, 99, 235, 0.4); }
            50% { box-shadow: 0 4px 25px rgba(37, 99, 235, 0.6); }
            100% { box-shadow: 0 4px 20px rgba(37, 99, 235, 0.4); }
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Admin Panel Styles */
        .admin-toggle {
            position: fixed;
            top: 100px;
            right: 2rem;
            background: #dc2626;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 0.5rem 1rem;
            font-size: 0.8rem;
            font-weight: 600;
            cursor: pointer;
            z-index: 1001;
            transition: all 0.3s ease;
        }

        .admin-toggle:hover {
            background: #b91c1c;
        }

        .admin-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1002;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }

        .admin-panel {
            background: white;
            border-radius: 12px;
            width: 100%;
            max-width: 1200px;
            max-height: 90vh;
            overflow: auto;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
        }

        .admin-header {
            background: #1f2937;
            color: white;
            padding: 1.5rem;
            border-radius: 12px 12px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .admin-header h2 {
            margin: 0;
            font-size: 1.5rem;
        }

        .admin-controls {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .admin-button {
            background: #2563eb;
            color: white;
            border: none;
            border-radius: 6px;
            padding: 0.5rem 1rem;
            cursor: pointer;
            font-weight: 500;
            transition: background 0.3s;
        }

        .admin-button:hover {
            background: #1d4ed8;
        }

        .admin-button.danger {
            background: #dc2626;
        }

        .admin-button.danger:hover {
            background: #b91c1c;
        }

        .admin-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            padding: 1.5rem;
            background: #f9fafb;
        }

        .admin-stat {
            background: white;
            padding: 1rem;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .admin-stat h3 {
            font-size: 1.5rem;
            margin: 0 0 0.5rem 0;
            color: #2563eb;
        }

        .admin-stat p {
            margin: 0;
            color: #6b7280;
            font-size: 0.9rem;
        }

        .submissions-table {
            width: 100%;
            border-collapse: collapse;
            margin: 0;
        }

        .submissions-table th {
            background: #f3f4f6;
            padding: 1rem;
            text-align: left;
            font-weight: 600;
            border-bottom: 2px solid #e5e7eb;
            font-size: 0.9rem;
        }

        .submissions-table td {
            padding: 1rem;
            border-bottom: 1px solid #e5e7eb;
            font-size: 0.9rem;
            vertical-align: top;
        }

        .submissions-table tr:hover {
            background: #f9fafb;
        }

        .status-badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 50px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .status-new {
            background: #fef3c7;
            color: #92400e;
        }

        .status-contacted {
            background: #dbeafe;
            color: #1e40af;
        }

        .status-resolved {
            background: #d1fae5;
            color: #065f46;
        }

        .message-preview {
            max-width: 200px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .action-buttons {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .action-button {
            background: #6b7280;
            color: white;
            border: none;
            border-radius: 4px;
            padding: 0.25rem 0.5rem;
            font-size: 0.75rem;
            cursor: pointer;
            transition: background 0.3s;
        }

        .action-button:hover {
            background: #4b5563;
        }

        .action-button.delete {
            background: #dc2626;
        }

        .action-button.delete:hover {
            background: #b91c1c;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        function RealEstateWebsite() {
            const [contactForm, setContactForm] = useState({
                name: '',
                email: '',
                phone: '',
                message: ''
            });
            const [formErrors, setFormErrors] = useState({});
            const [isSubmitting, setIsSubmitting] = useState(false);
            const [showAdmin, setShowAdmin] = useState(false);
            const [adminVisible, setAdminVisible] = useState(false);
            const [keySequence, setKeySequence] = useState([]);
            const [submissions, setSubmissions] = useState([]);

            // Load submissions from localStorage on component mount
            useEffect(() => {
                const savedSubmissions = localStorage.getItem('contactSubmissions');
                if (savedSubmissions) {
                    setSubmissions(JSON.parse(savedSubmissions));
                }
                
                // Hidden console message for admin access
                console.log('%cüîß Admin Access Available', 'color: #2563eb; font-weight: bold; font-size: 16px;');
                console.log('%cPress Ctrl+Shift+A to access admin panel', 'color: #6b7280; font-size: 12px;');
                console.log('%cDefault password: admin123', 'color: #6b7280; font-size: 12px;');
            }, []);

            // Secret key sequence to access admin (Ctrl+Shift+A followed by Ctrl+Shift+D)
            useEffect(() => {
                const handleKeyDown = (e) => {
                    // Check for Ctrl+Shift+A+D sequence
                    if (e.ctrlKey && e.shiftKey) {
                        if (e.key === 'A') {
                            if (!adminVisible) {
                                const password = prompt('Enter admin password:');
                                if (password === 'admin123') {
                                    setAdminVisible(true);
                                    alert('Admin access granted! Admin button is now visible.');
                                } else if (password !== null) {
                                    alert('Incorrect password. Access denied.');
                                }
                            }
                        } else if (e.key === 'H' && adminVisible) {
                            // Ctrl+Shift+H to hide admin button
                            setAdminVisible(false);
                            setShowAdmin(false);
                            alert('Admin button hidden.');
                        }
                    }
                };

                document.addEventListener('keydown', handleKeyDown);
                return () => document.removeEventListener('keydown', handleKeyDown);
            }, [adminVisible]);

            // Enhanced validation functions
            const validateEmail = (email) => {
                const emailRegex = /^[a-zA-Z0-9]([a-zA-Z0-9._-])*[a-zA-Z0-9]@[a-zA-Z0-9]([a-zA-Z0-9.-])*[a-zA-Z0-9]\.[a-zA-Z]{2,}$/;
                return emailRegex.test(email);
            };

            const validatePhone = (phone) => {
                if (!phone || phone.trim() === '') return false; // Phone is now required
                const cleanPhone = phone.replace(/[\s\-\(\)\+]/g, '');
                return cleanPhone.length >= 10 && cleanPhone.length <= 15 && /^\d+$/.test(cleanPhone);
            };

            const validateName = (name) => {
                if (!name || name.trim().length < 2) return false;
                if (name.trim().length > 50) return false;
                const nameRegex = /^[a-zA-Z\s\-\.\']+$/;
                return nameRegex.test(name.trim());
            };

            const validateMessage = (message) => {
                if (!message || message.trim().length < 10) return false;
                if (message.trim().length > 1000) return false;
                // Check for spam patterns
                const spamPatterns = [
                    /(.)\1{4,}/i, // Repeated characters (5 or more in a row)
                    /^[A-Z\s!]{20,}$/, // All caps messages
                    /(buy now|click here|free money|guaranteed|urgent|winner|congratulations)/i
                ];
                return !spamPatterns.some(pattern => pattern.test(message));
            };

            const validateField = (name, value) => {
                let error = '';
                
                switch(name) {
                    case 'name':
                        if (!value || value.trim() === '') {
                            error = 'Name is required';
                        } else if (!validateName(value)) {
                            if (value.trim().length < 2) {
                                error = 'Name must be at least 2 characters long';
                            } else if (value.trim().length > 50) {
                                error = 'Name must be less than 50 characters';
                            } else {
                                error = 'Name can only contain letters, spaces, hyphens, and periods';
                            }
                        }
                        break;
                        
                    case 'email':
                        if (!value || value.trim() === '') {
                            error = 'Email address is required';
                        } else if (!validateEmail(value.trim())) {
                            error = 'Please enter a valid email address (e.g., name@example.com)';
                        }
                        break;
                        
                    case 'phone':
                        if (!value || value.trim() === '') {
                            error = 'Phone number is required';
                        } else if (!validatePhone(value)) {
                            error = 'Please enter a valid phone number (10-15 digits)';
                        }
                        break;
                        
                    case 'message':
                        if (!value || value.trim() === '') {
                            error = 'Message is required';
                        } else if (!validateMessage(value)) {
                            if (value.trim().length < 10) {
                                error = 'Message must be at least 10 characters long';
                            } else if (value.trim().length > 1000) {
                                error = 'Message must be less than 1000 characters';
                            } else {
                                error = 'Message contains invalid content or appears to be spam';
                            }
                        }
                        break;
                }
                
                return error;
            };

            const validateForm = () => {
                const errors = {};
                
                // Validate all fields
                Object.keys(contactForm).forEach(field => {
                    const error = validateField(field, contactForm[field]);
                    if (error) {
                        errors[field] = error;
                    }
                });
                
                setFormErrors(errors);
                return Object.keys(errors).length === 0;
            };

            // Save submission to localStorage
            const saveSubmission = (formData) => {
                const newSubmission = {
                    id: Date.now(),
                    timestamp: new Date().toLocaleString(),
                    ...formData,
                    status: 'New'
                };
                
                const updatedSubmissions = [...submissions, newSubmission];
                setSubmissions(updatedSubmissions);
                localStorage.setItem('contactSubmissions', JSON.stringify(updatedSubmissions));
                return newSubmission;
            };

            // Export submissions as CSV
            const exportToCSV = () => {
                if (submissions.length === 0) {
                    alert('No submissions to export!');
                    return;
                }

                const headers = ['ID', 'Date & Time', 'Name', 'Email', 'Phone', 'Message', 'Status'];
                const csvContent = [
                    headers.join(','),
                    ...submissions.map(sub => [
                        sub.id,
                        `"${sub.timestamp}"`,
                        `"${sub.name}"`,
                        `"${sub.email}"`,
                        `"${sub.phone}"`,
                        `"${sub.message.replace(/"/g, '""')}"`,
                        sub.status
                    ].join(','))
                ].join('\n');

                const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
                const link = document.createElement('a');
                const url = URL.createObjectURL(blob);
                link.setAttribute('href', url);
                link.setAttribute('download', `contact_submissions_${new Date().toISOString().split('T')[0]}.csv`);
                link.style.visibility = 'hidden';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            };

            // Delete submission
            const deleteSubmission = (id) => {
                const updatedSubmissions = submissions.filter(sub => sub.id !== id);
                setSubmissions(updatedSubmissions);
                localStorage.setItem('contactSubmissions', JSON.stringify(updatedSubmissions));
            };

            // Update submission status
            const updateSubmissionStatus = (id, status) => {
                const updatedSubmissions = submissions.map(sub => 
                    sub.id === id ? { ...sub, status } : sub
                );
                setSubmissions(updatedSubmissions);
                localStorage.setItem('contactSubmissions', JSON.stringify(updatedSubmissions));
            };

            const properties = [
                {
                    id: 1,
                    price: '$750,000',
                    title: 'Modern Family Home',
                    location: 'Downtown District',
                    beds: 4,
                    baths: 3,
                    sqft: 2500
                },
                {
                    id: 2,
                    price: '$525,000',
                    title: 'Cozy Suburban House',
                    location: 'Green Valley',
                    beds: 3,
                    baths: 2,
                    sqft: 1800
                },
                {
                    id: 3,
                    price: '$950,000',
                    title: 'Luxury Penthouse',
                    location: 'City Center',
                    beds: 3,
                    baths: 3,
                    sqft: 2200
                }
            ];

            const services = [
                {
                    icon: 'üè†',
                    title: 'Property Sales',
                    description: 'Expert guidance through the entire home buying and selling process with market insights and negotiation expertise.'
                },
                {
                    icon: 'üí∞',
                    title: 'Property Valuation',
                    description: 'Accurate property assessments using current market data and comprehensive analysis for informed decisions.'
                },
                {
                    icon: 'üîç',
                    title: 'Property Search',
                    description: 'Personalized property search services to find your perfect home based on your specific needs and budget.'
                },
                {
                    icon: 'üìã',
                    title: 'Property Management',
                    description: 'Complete property management solutions including tenant screening, maintenance, and rental collection.'
                }
            ];

            const handleContactSubmit = async (e) => {
                e.preventDefault();
                
                // Validate form before submission
                if (!validateForm()) {
                    return;
                }
                
                setIsSubmitting(true);
                
                try {
                    // Simulate API call delay for better UX
                    await new Promise(resolve => setTimeout(resolve, 1000));
                    
                    // Save to database
                    const submission = saveSubmission(contactForm);
                    
                    // Success feedback
                    alert(`Thank you ${contactForm.name}! We'll get back to you soon.\nSubmission ID: ${submission.id}`);
                    
                    // Reset form and clear any errors
                    setContactForm({ name: '', email: '', phone: '', message: '' });
                    setFormErrors({});
                    
                } catch (error) {
                    alert('There was an error submitting your message. Please try again.');
                } finally {
                    setIsSubmitting(false);
                }
            };

            const handleInputChange = (e) => {
                const { name, value } = e.target;
                
                // Update form data
                setContactForm(prev => ({
                    ...prev,
                    [name]: value
                }));
                
                // Real-time validation - clear error when user starts typing
                if (formErrors[name]) {
                    setFormErrors(prev => ({
                        ...prev,
                        [name]: ''
                    }));
                }
                
                // Validate field on blur for immediate feedback (but not on every keystroke)
                if (value.trim() !== '') {
                    const error = validateField(name, value);
                    if (error !== formErrors[name]) {
                        setFormErrors(prev => ({
                            ...prev,
                            [name]: error
                        }));
                    }
                }
            };

            const handleInputBlur = (e) => {
                const { name, value } = e.target;
                const error = validateField(name, value);
                setFormErrors(prev => ({
                    ...prev,
                    [name]: error
                }));
            };

            const scrollToSection = (sectionId) => {
                const element = document.getElementById(sectionId);
                element.scrollIntoView({ behavior: 'smooth' });
            };

            return (
                <div>
                    {/* Header */}
                    <header className="header">
                        <nav className="nav">
                            <div className="logo">PrimeHomes</div>
                            <ul className="nav-menu">
                                <li><a href="#home" className="nav-link" onClick={() => scrollToSection('home')}>Home</a></li>
                                <li><a href="#properties" className="nav-link" onClick={() => scrollToSection('properties')}>Properties</a></li>
                                <li><a href="#about" className="nav-link" onClick={() => scrollToSection('about')}>About</a></li>
                                <li><a href="#services" className="nav-link" onClick={() => scrollToSection('services')}>Services</a></li>
                                <li><a href="#contact" className="nav-link" onClick={() => scrollToSection('contact')}>Contact</a></li>
                            </ul>
                        </nav>
                    </header>

                    {/* Hero Section */}
                    <section id="home" className="hero">
                        <div className="hero-content">
                            <h1>Find Your Dream Home</h1>
                            <p>We help you discover the perfect property that matches your lifestyle and budget. Your dream home is just one click away.</p>
                            <div style={{display: 'flex', gap: '1rem', justifyContent: 'center', flexWrap: 'wrap'}}>
                                <a href="#properties" className="cta-button" onClick={() => scrollToSection('properties')}>
                                    View Properties
                                </a>
                                <a href="#contact" className="cta-button" onClick={() => scrollToSection('contact')} style={{background: 'transparent', border: '2px solid white', color: 'white'}}>
                                    Contact Us
                                </a>
                            </div>
                        </div>
                    </section>

                    {/* Stats Section */}
                    <section className="stats">
                        <div className="stats-grid">
                            <div className="stat-item">
                                <h3>500+</h3>
                                <p>Properties Sold</p>
                            </div>
                            <div className="stat-item">
                                <h3>15+</h3>
                                <p>Years Experience</p>
                            </div>
                            <div className="stat-item">
                                <h3>1000+</h3>
                                <p>Happy Clients</p>
                            </div>
                            <div className="stat-item">
                                <h3>95%</h3>
                                <p>Client Satisfaction</p>
                            </div>
                        </div>
                        <div style={{textAlign: 'center', marginTop: '2rem'}}>
                            <p style={{marginBottom: '1rem', color: '#6b7280'}}>Ready to become our next success story?</p>
                            <a href="#contact" className="cta-button" onClick={() => scrollToSection('contact')} style={{background: '#2563eb', color: 'white'}}>
                                Contact Us Today
                            </a>
                        </div>
                    </section>

                    {/* Properties Section */}
                    <section id="properties" className="section">
                        <h2 className="section-title">Featured Properties</h2>
                        <p className="section-subtitle">Discover our handpicked selection of premium properties</p>
                        
                        <div className="properties-grid">
                            {properties.map(property => (
                                <div key={property.id} className="property-card">
                                    <div className="property-image">
                                        üè† Property Image
                                    </div>
                                    <div className="property-info">
                                        <div className="property-price">{property.price}</div>
                                        <h3 className="property-title">{property.title}</h3>
                                        <p className="property-location">üìç {property.location}</p>
                                        <div className="property-features">
                                            <span>üõèÔ∏è {property.beds} Beds</span>
                                            <span>üöø {property.baths} Baths</span>
                                            <span>üìê {property.sqft} sq ft</span>
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>
                        <div style={{textAlign: 'center', marginTop: '3rem', padding: '2rem', background: '#f9fafb', borderRadius: '12px'}}>
                            <h3 style={{marginBottom: '1rem', color: '#1f2937'}}>Don't see what you're looking for?</h3>
                            <p style={{marginBottom: '1.5rem', color: '#6b7280'}}>We have access to hundreds more properties. Let us help you find your perfect home!</p>
                            <a href="#contact" className="cta-button" onClick={() => scrollToSection('contact')} style={{background: '#2563eb', color: 'white'}}>
                                Contact Us for More Properties
                            </a>
                        </div>
                    </section>

                    {/* About Section */}
                    <section id="about" className="section about">
                        <h2 className="section-title">About PrimeHomes</h2>
                        <div className="about-content">
                            <div className="about-text">
                                <h3>Your Trusted Real Estate Partner</h3>
                                <p>
                                    With over 15 years of experience in the real estate industry, PrimeHomes has been helping families and individuals find their perfect homes. We understand that buying or selling a property is one of life's most significant decisions.
                                </p>
                                <p>
                                    Our team of expert real estate professionals is committed to providing personalized service, market expertise, and unwavering support throughout your real estate journey. We pride ourselves on our integrity, professionalism, and results-driven approach.
                                </p>
                                <p>
                                    Whether you're a first-time buyer, seasoned investor, or looking to sell your current property, we have the knowledge and resources to guide you every step of the way.
                                </p>
                            </div>
                            <div className="about-image">
                                üè¢ Our Office Building
                            </div>
                        </div>
                        <div style={{textAlign: 'center', marginTop: '3rem'}}>
                            <h3 style={{marginBottom: '1rem', color: '#1f2937'}}>Ready to work with trusted professionals?</h3>
                            <p style={{marginBottom: '1.5rem', color: '#6b7280'}}>Let our experienced team guide you through your real estate journey with confidence.</p>
                            <a href="#contact" className="cta-button" onClick={() => scrollToSection('contact')} style={{background: '#2563eb', color: 'white'}}>
                                Get Started - Contact Us
                            </a>
                        </div>
                    </section>

                    {/* Services Section */}
                    <section id="services" className="section">
                        <h2 className="section-title">Our Services</h2>
                        <p className="section-subtitle">Comprehensive real estate solutions tailored to your needs</p>
                        
                        <div className="services-grid">
                            {services.map((service, index) => (
                                <div key={index} className="service-card">
                                    <div className="service-icon">{service.icon}</div>
                                    <h3 className="service-title">{service.title}</h3>
                                    <p>{service.description}</p>
                                </div>
                            ))}
                        </div>
                        <div style={{textAlign: 'center', marginTop: '3rem', padding: '2.5rem', background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)', borderRadius: '12px', color: 'white'}}>
                            <h3 style={{marginBottom: '1rem', fontSize: '1.75rem'}}>Need Help with Any of These Services?</h3>
                            <p style={{marginBottom: '1.5rem', fontSize: '1.1rem', opacity: '0.9'}}>Our expert team is ready to assist you with all your real estate needs. Get personalized service today!</p>
                            <a href="#contact" className="cta-button" onClick={() => scrollToSection('contact')} style={{background: 'white', color: '#2563eb'}}>
                                Contact Our Experts
                            </a>
                        </div>
                    </section>

                    {/* Contact Section */}
                    <section id="contact" className="section contact">
                        <h2 className="section-title">Get In Touch</h2>
                        <p className="section-subtitle">Ready to start your real estate journey? Contact us today!</p>
                        
                        <div className="contact-content">
                            <div className="contact-info">
                                <h3>Contact Information</h3>
                                <div className="contact-item">
                                    <div className="contact-icon">üìç</div>
                                    <div>
                                        <p>123 Real Estate Ave</p>
                                        <p>City, State 12345</p>
                                    </div>
                                </div>
                                <div className="contact-item">
                                    <div className="contact-icon">üìû</div>
                                    <div>
                                        <p>(555) 123-4567</p>
                                    </div>
                                </div>
                                <div className="contact-item">
                                    <div className="contact-icon">‚úâÔ∏è</div>
                                    <div>
                                        <p>info@primehomes.com</p>
                                    </div>
                                </div>
                            </div>
                            
                            <form className="contact-form" onSubmit={handleContactSubmit}>
                                <div className="form-group">
                                    <label className="form-label">Name *</label>
                                    <input
                                        type="text"
                                        name="name"
                                        value={contactForm.name}
                                        onChange={handleInputChange}
                                        onBlur={handleInputBlur}
                                        className={`form-input ${formErrors.name ? 'error' : contactForm.name && !formErrors.name ? 'success' : ''}`}
                                        placeholder="Enter your full name"
                                        disabled={isSubmitting}
                                    />
                                    {formErrors.name && (
                                        <div className="error-message">
                                            ‚ö†Ô∏è {formErrors.name}
                                        </div>
                                    )}
                                    {contactForm.name && !formErrors.name && (
                                        <div className="success-message">
                                            ‚úÖ Name looks good
                                        </div>
                                    )}
                                </div>
                                
                                <div className="form-group">
                                    <label className="form-label">Email Address *</label>
                                    <input
                                        type="email"
                                        name="email"
                                        value={contactForm.email}
                                        onChange={handleInputChange}
                                        onBlur={handleInputBlur}
                                        className={`form-input ${formErrors.email ? 'error' : contactForm.email && !formErrors.email ? 'success' : ''}`}
                                        placeholder="Enter your email address"
                                        disabled={isSubmitting}
                                    />
                                    {formErrors.email && (
                                        <div className="error-message">
                                            ‚ö†Ô∏è {formErrors.email}
                                        </div>
                                    )}
                                    {contactForm.email && !formErrors.email && (
                                        <div className="success-message">
                                            ‚úÖ Email is valid
                                        </div>
                                    )}
                                </div>
                                
                                <div className="form-group">
                                    <label className="form-label">Phone Number *</label>
                                    <input
                                        type="tel"
                                        name="phone"
                                        value={contactForm.phone}
                                        onChange={handleInputChange}
                                        onBlur={handleInputBlur}
                                        className={`form-input ${formErrors.phone ? 'error' : contactForm.phone && !formErrors.phone ? 'success' : ''}`}
                                        placeholder="Enter your phone number (e.g., +1-555-123-4567)"
                                        disabled={isSubmitting}
                                    />
                                    {formErrors.phone && (
                                        <div className="error-message">
                                            ‚ö†Ô∏è {formErrors.phone}
                                        </div>
                                    )}
                                    {contactForm.phone && !formErrors.phone && (
                                        <div className="success-message">
                                            ‚úÖ Phone number is valid
                                        </div>
                                    )}
                                </div>
                                
                                <div className="form-group">
                                    <label className="form-label">Message *</label>
                                    <textarea
                                        name="message"
                                        value={contactForm.message}
                                        onChange={handleInputChange}
                                        onBlur={handleInputBlur}
                                        className={`form-textarea ${formErrors.message ? 'error' : contactForm.message && !formErrors.message ? 'success' : ''}`}
                                        placeholder="Tell us about your real estate needs..."
                                        rows="5"
                                        disabled={isSubmitting}
                                    ></textarea>
                                    <div className={`character-count ${contactForm.message.length > 900 ? 'error' : contactForm.message.length > 800 ? 'warning' : ''}`}>
                                        {contactForm.message.length}/1000 characters
                                    </div>
                                    {formErrors.message && (
                                        <div className="error-message">
                                            ‚ö†Ô∏è {formErrors.message}
                                        </div>
                                    )}
                                    {contactForm.message && !formErrors.message && contactForm.message.length >= 10 && (
                                        <div className="success-message">
                                            ‚úÖ Message looks good
                                        </div>
                                    )}
                                </div>
                                
                                <button 
                                    type="submit" 
                                    className="submit-button"
                                    disabled={isSubmitting || Object.keys(formErrors).some(key => formErrors[key])}
                                    style={{
                                        opacity: isSubmitting || Object.keys(formErrors).some(key => formErrors[key]) ? 0.6 : 1,
                                        cursor: isSubmitting || Object.keys(formErrors).some(key => formErrors[key]) ? 'not-allowed' : 'pointer'
                                    }}
                                >
                                    {isSubmitting ? (
                                        <>
                                            <span style={{
                                                display: 'inline-block',
                                                width: '16px',
                                                height: '16px',
                                                border: '2px solid #ffffff',
                                                borderTop: '2px solid transparent',
                                                borderRadius: '50%',
                                                animation: 'spin 1s linear infinite',
                                                marginRight: '8px'
                                            }}></span>
                                            Sending Message...
                                        </>
                                    ) : 'Send Message'}
                                </button>
                                
                                <div style={{marginTop: '1rem', fontSize: '0.875rem', color: '#6b7280', textAlign: 'center'}}>
                                    * Required fields
                                </div>
                            </form>
                        </div>
                    </section>

                    {/* Footer */}
                    <footer className="footer">
                        <p>&copy; 2024 PrimeHomes. All rights reserved. | Helping you find home since 2009</p>
                    </footer>

                    {/* Floating Contact Button */}
                    <button 
                        className="floating-contact"
                        onClick={() => scrollToSection('contact')}
                    >
                        üí¨ Contact Us
                    </button>

                    {/* Admin Toggle Button - Only visible when adminVisible is true */}
                    {adminVisible && (
                        <button 
                            className="admin-toggle"
                            onClick={() => setShowAdmin(true)}
                        >
                            üîß Admin ({submissions.length})
                        </button>
                    )}

                    {/* Admin Panel */}
                    {showAdmin && (
                        <div className="admin-overlay" onClick={(e) => e.target === e.currentTarget && setShowAdmin(false)}>
                            <div className="admin-panel">
                                <div className="admin-header">
                                    <h2>üìä Contact Submissions Database</h2>
                                    <div className="admin-controls">
                                        <span style={{fontSize: '0.9rem', opacity: 0.8}}>
                                            Total: {submissions.length} submissions | Ctrl+Shift+H to hide
                                        </span>
                                        <button 
                                            className="admin-button"
                                            onClick={exportToCSV}
                                            title="Export to Excel/CSV"
                                        >
                                            üìä Export CSV
                                        </button>
                                        <button 
                                            className="admin-button danger"
                                            onClick={() => setShowAdmin(false)}
                                        >
                                            ‚úï Close
                                        </button>
                                    </div>
                                </div>

                                {/* Statistics */}
                                <div className="admin-stats">
                                    <div className="admin-stat">
                                        <h3>{submissions.length}</h3>
                                        <p>Total Submissions</p>
                                    </div>
                                    <div className="admin-stat">
                                        <h3>{submissions.filter(s => s.status === 'New').length}</h3>
                                        <p>New Inquiries</p>
                                    </div>
                                    <div className="admin-stat">
                                        <h3>{submissions.filter(s => s.status === 'Contacted').length}</h3>
                                        <p>Contacted</p>
                                    </div>
                                    <div className="admin-stat">
                                        <h3>{submissions.filter(s => s.status === 'Resolved').length}</h3>
                                        <p>Resolved</p>
                                    </div>
                                    <div className="admin-stat">
                                        <h3>{new Date().toLocaleDateString()}</h3>
                                        <p>Last Updated</p>
                                    </div>
                                </div>

                                {/* Submissions Table */}
                                <div style={{padding: '0 1.5rem 1.5rem'}}>
                                    {submissions.length === 0 ? (
                                        <div style={{textAlign: 'center', padding: '3rem', color: '#6b7280'}}>
                                            <h3>No submissions yet</h3>
                                            <p>Contact form submissions will appear here.</p>
                                        </div>
                                    ) : (
                                        <div style={{overflowX: 'auto'}}>
                                            <table className="submissions-table">
                                                <thead>
                                                    <tr>
                                                        <th>ID</th>
                                                        <th>Date & Time</th>
                                                        <th>Name</th>
                                                        <th>Email</th>
                                                        <th>Phone</th>
                                                        <th>Message</th>
                                                        <th>Status</th>
                                                        <th>Actions</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    {submissions.slice().reverse().map(submission => (
                                                        <tr key={submission.id}>
                                                            <td><strong>#{submission.id}</strong></td>
                                                            <td>{submission.timestamp}</td>
                                                            <td><strong>{submission.name}</strong></td>
                                                            <td>
                                                                <a href={`mailto:${submission.email}`} style={{color: '#2563eb'}}>
                                                                    {submission.email}
                                                                </a>
                                                            </td>
                                                            <td>
                                                                <a href={`tel:${submission.phone}`} style={{color: '#2563eb'}}>
                                                                    {submission.phone}
                                                                </a>
                                                            </td>
                                                            <td>
                                                                <div className="message-preview" title={submission.message}>
                                                                    {submission.message}
                                                                </div>
                                                            </td>
                                                            <td>
                                                                <span className={`status-badge status-${submission.status.toLowerCase()}`}>
                                                                    {submission.status}
                                                                </span>
                                                            </td>
                                                            <td>
                                                                <div className="action-buttons">
                                                                    <select 
                                                                        value={submission.status}
                                                                        onChange={(e) => updateSubmissionStatus(submission.id, e.target.value)}
                                                                        style={{fontSize: '0.75rem', padding: '0.25rem'}}
                                                                    >
                                                                        <option value="New">New</option>
                                                                        <option value="Contacted">Contacted</option>
                                                                        <option value="Resolved">Resolved</option>
                                                                    </select>
                                                                    <button 
                                                                        className="action-button delete"
                                                                        onClick={() => {
                                                                            if (confirm('Are you sure you want to delete this submission?')) {
                                                                                deleteSubmission(submission.id);
                                                                            }
                                                                        }}
                                                                        title="Delete submission"
                                                                    >
                                                                        üóëÔ∏è
                                                                    </button>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                    ))}
                                                </tbody>
                                            </table>
                                        </div>
                                    )}
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        }

        // Render the website
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<RealEstateWebsite />);
    </script>
</body>
</html>
